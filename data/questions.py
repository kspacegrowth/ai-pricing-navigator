"""Structured question definitions for all 4 modules."""

MODULE_1_QUESTIONS = [
    {
        "id": "m1_q1",
        "module": 1,
        "text": "Does a human user interact with your AI in real-time to get their work done?",
        "type": "radio",
        "options": [
            {"label": "Yes", "value": "yes", "scores": {"copilot_score": 3, "agent_score": 0, "service_score": 0}},
            {"label": "No", "value": "no", "scores": {"copilot_score": 0, "agent_score": 2, "service_score": 2}},
            {"label": "Sometimes", "value": "sometimes", "scores": {"copilot_score": 2, "agent_score": 1, "service_score": 1}},
        ],
        "help_text": None,
    },
    {
        "id": "m1_q2",
        "module": 1,
        "text": "Can your AI complete entire tasks or workflows without human intervention?",
        "type": "radio",
        "options": [
            {"label": "Yes - fully autonomous", "value": "yes", "scores": {"copilot_score": 0, "agent_score": 3, "service_score": 1}},
            {"label": "Partially - human reviews output", "value": "partial", "scores": {"copilot_score": 1, "agent_score": 2, "service_score": 2}},
            {"label": "No - human drives the process", "value": "no", "scores": {"copilot_score": 3, "agent_score": 0, "service_score": 0}},
        ],
        "help_text": None,
    },
    {
        "id": "m1_q3",
        "module": 1,
        "text": "Is your product replacing an existing service, vendor, or employee function?",
        "type": "radio",
        "options": [
            {"label": "Yes - direct replacement", "value": "yes", "scores": {"copilot_score": 0, "agent_score": 1, "service_score": 3}},
            {"label": "Partially - augmenting existing roles", "value": "partial", "scores": {"copilot_score": 2, "agent_score": 2, "service_score": 1}},
            {"label": "No - net-new capability", "value": "no", "scores": {"copilot_score": 2, "agent_score": 2, "service_score": 0}},
        ],
        "help_text": None,
    },
    {
        "id": "m1_q4",
        "module": 1,
        "text": "How does the end user primarily experience your product?",
        "type": "radio",
        "options": [
            {"label": "As a chat/assistant alongside their workflow", "value": "chat", "scores": {"copilot_score": 3, "agent_score": 0, "service_score": 0}},
            {"label": "As an automation that runs in the background", "value": "automation", "scores": {"copilot_score": 0, "agent_score": 3, "service_score": 1}},
            {"label": "As a delivered output or service result", "value": "output", "scores": {"copilot_score": 0, "agent_score": 1, "service_score": 3}},
        ],
        "help_text": None,
    },
    {
        "id": "m1_q5",
        "module": 1,
        "text": "What best describes your AI\u2019s role?",
        "type": "radio",
        "options": [
            {"label": "Advisor - suggests, drafts, recommends", "value": "advisor", "scores": {"copilot_score": 3, "agent_score": 0, "service_score": 0}},
            {"label": "Executor - completes work end-to-end", "value": "executor", "scores": {"copilot_score": 0, "agent_score": 3, "service_score": 1}},
            {"label": "Service provider - delivers a finished output with some human QA", "value": "service_provider", "scores": {"copilot_score": 0, "agent_score": 1, "service_score": 3}},
        ],
        "help_text": None,
    },
]

MODULE_2_QUESTIONS = [
    {
        "id": "m2_q1",
        "module": 2,
        "text": "What\u2019s the primary value your product delivers?",
        "type": "radio",
        "options": [
            {"label": "Generates new revenue for the customer", "value": "revenue", "scores": {"x_score": 1.0, "y_score": 0.5}},
            {"label": "Reduces costs or replaces spend", "value": "cost_reduction", "scores": {"x_score": -1.0, "y_score": 0.5}},
            {"label": "Saves time or increases productivity", "value": "time_savings", "scores": {"x_score": -0.5, "y_score": -0.5}},
            {"label": "Enables something previously impossible", "value": "new_capability", "scores": {"x_score": 0.5, "y_score": -0.5}},
        ],
        "help_text": None,
    },
    {
        "id": "m2_q2",
        "module": 2,
        "text": "Can your customer calculate the dollar value of using your product without your help?",
        "type": "radio",
        "options": [
            {"label": "Yes - it\u2019s obvious and measurable", "value": "yes", "scores": {"x_score": 0.0, "y_score": 1.0}},
            {"label": "Somewhat - they can estimate but it\u2019s fuzzy", "value": "somewhat", "scores": {"x_score": 0.0, "y_score": 0.0}},
            {"label": "No - the value is real but hard to quantify", "value": "no", "scores": {"x_score": 0.0, "y_score": -1.0}},
        ],
        "help_text": None,
    },
    {
        "id": "m2_q3",
        "module": 2,
        "text": "What happens if the customer stops using your product?",
        "type": "radio",
        "options": [
            {"label": "They lose measurable revenue or output", "value": "lose_revenue", "scores": {"x_score": 0.5, "y_score": 1.0}},
            {"label": "Work gets slower or more expensive", "value": "slower", "scores": {"x_score": -0.5, "y_score": 0.5}},
            {"label": "Things go back to how they were - no acute pain", "value": "no_pain", "scores": {"x_score": 0.0, "y_score": -1.0}},
        ],
        "help_text": None,
    },
    {
        "id": "m2_q4",
        "module": 2,
        "text": "How would you prove ROI in a renewal conversation?",
        "type": "radio",
        "options": [
            {"label": "Show a dashboard of concrete metrics", "value": "dashboard", "scores": {"x_score": 0.0, "y_score": 1.0}},
            {"label": "Point to time saved or tasks completed", "value": "time_saved", "scores": {"x_score": -0.5, "y_score": 0.5}},
            {"label": "Reference qualitative feedback and adoption rates", "value": "qualitative", "scores": {"x_score": 0.0, "y_score": -1.0}},
        ],
        "help_text": None,
    },
    {
        "id": "m2_q5",
        "module": 2,
        "text": "Is your product replacing a line item the customer already pays for?",
        "type": "radio",
        "options": [
            {"label": "Yes - direct budget replacement", "value": "yes", "scores": {"x_score": -0.5, "y_score": 1.0}},
            {"label": "Partially", "value": "partial", "scores": {"x_score": -0.25, "y_score": 0.5}},
            {"label": "No - it\u2019s additive spend", "value": "no", "scores": {"x_score": 0.5, "y_score": -0.5}},
        ],
        "help_text": None,
    },
]

MODULE_3_QUESTIONS = [
    {
        "id": "m3_q1",
        "module": 3,
        "text": "What\u2019s your estimated cost to deliver one unit of value?",
        "type": "number",
        "options": None,
        "help_text": "Include inference costs, human review time, infrastructure. If unsure, estimate monthly cloud/API bill divided by customer interactions.",
    },
    {
        "id": "m3_q2",
        "module": 3,
        "text": "Who is your target customer?",
        "type": "radio",
        "options": [
            {"label": "SMB (< 200 employees)", "value": "smb", "scores": {}},
            {"label": "Mid-market (200-2000)", "value": "mid_market", "scores": {}},
            {"label": "Enterprise (2000+)", "value": "enterprise", "scores": {}},
        ],
        "help_text": None,
    },
    {
        "id": "m3_q3",
        "module": 3,
        "text": "What\u2019s your target annual deal size?",
        "type": "radio",
        "options": [
            {"label": "< $5K", "value": 3000, "scores": {}},
            {"label": "$5K-25K", "value": 15000, "scores": {}},
            {"label": "$25K-100K", "value": 62500, "scores": {}},
            {"label": "$100K+", "value": 150000, "scores": {}},
        ],
        "help_text": None,
    },
    {
        "id": "m3_q4",
        "module": 3,
        "text": "What\u2019s your target gross margin?",
        "type": "slider",
        "options": None,
        "min": 40,
        "max": 85,
        "default": 65,
        "help_text": "Traditional SaaS = 80-90%. AI companies average 50-60%.",
    },
    {
        "id": "m3_q5",
        "module": 3,
        "text": "How predictable is the compute cost per customer interaction?",
        "type": "radio",
        "options": [
            {"label": "Very predictable", "value": "low", "scores": {}},
            {"label": "Moderate variance", "value": "moderate", "scores": {}},
            {"label": "Highly variable - some interactions cost 10x+ more", "value": "high", "scores": {}},
        ],
        "help_text": None,
    },
]

MODULE_4_QUESTIONS = [
    {
        "id": "m4_q1",
        "module": 4,
        "text": "I understand how AI economics differ from SaaS and why my margins matter more.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q2",
        "module": 4,
        "text": "I\u2019ve identified which pricing model best fits my product category and customer behavior.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q3",
        "module": 4,
        "text": "A first-time buyer can understand what they\u2019re paying for and why it\u2019s worth it.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q4",
        "module": 4,
        "text": "I have a strategy for managing variable compute costs while maintaining predictable revenue.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q5",
        "module": 4,
        "text": "I know when to transition from free usage to paid tiers.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q6",
        "module": 4,
        "text": "I\u2019m tracking AI-specific success metrics beyond traditional SaaS metrics.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q7",
        "module": 4,
        "text": "I can accurately model my unit economics including all hidden costs.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q8",
        "module": 4,
        "text": "My pricing strategy differentiates me from competitors using similar AI models.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q9",
        "module": 4,
        "text": "I have signals that my pricing is sustainable - not propped up by hype.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
    {
        "id": "m4_q10",
        "module": 4,
        "text": "My pricing is simple enough to scale from 10 to 1,000 customers without becoming unmanageable.",
        "type": "slider",
        "options": None,
        "min": 1,
        "max": 5,
        "default": 3,
        "help_text": None,
    },
]

ALL_QUESTIONS = {
    1: MODULE_1_QUESTIONS,
    2: MODULE_2_QUESTIONS,
    3: MODULE_3_QUESTIONS,
    4: MODULE_4_QUESTIONS,
}

# Flat lookup by question ID
QUESTIONS_BY_ID = {}
for _module_qs in ALL_QUESTIONS.values():
    for _q in _module_qs:
        QUESTIONS_BY_ID[_q["id"]] = _q
